# Simple test case for a cantilever structure with applied displacment

# keyword "geometry", arguments are nelx, nely, D, mass
geometry 45 15 1 1

# keyword "init_chi", arguments can be "file filename entry" or "uniform value"
init_chi uniform 0.6
# init_chi file ./example_dump/cant.dump 100 #Activate this to continue from previouse dumpfile

# tolerance for DETO convergence
tol_chi 0.004

# filtering on/off. If on, specify rmin in absolute units and beta exponent
filtering on 1.1 2

# penalisation power
ppow 2

# chi_min
chi_min 0.001

# target solid volume fraction
target_f 0.6

# interaction potential: tpye (lin,e+x,e-x,sinh,tanh) kpot apot
interaction lin 100
#interaction tanh 100 40

# quickmin parameters: Utol stepAve dmax dt out_Every dumpAll   Utol is a fraction dampAll is an optional boolian to dump every miniisation step
quickmin 5e-9 10 0.01 0.01 10000

# setdisp x/y partID value rate (Increase value to explore geomtric non-linearity)
setdisp y 355 -.2 1e-4

# fix particle motion via constraints  -  fix x/y partID
fix x 0
fix y 0
fix x 89
fix y 89
fix x 178
fix y 178
fix x 267
fix y 267
fix x 356
fix y 356
fix x 445
fix y 445
fix x 534
fix y 534
fix x 623
fix y 623

#add_thermo Fx/Fy/x/y particle ID
add_thermo y 355  # Top middle
add_thermo Fy 355
